<!DOCTYPE html>
<html>
	<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Redirect to wiki.gg</title>
		<style>
            :root {
                --background-colour: #d8dada;
                --text-colour: #000;
                --accent-colour: #770e5c;
                --spacing: 0.6em;
                --spacer-colour: #adaeae;
                --bottom-links-opacity: 0.6;
            }
            @media screen and (prefers-color-scheme: dark) {
                body {
                    --background-colour: #272828;
                    --text-colour: #ebebeb;
                    --accent-colour: #e348bb;
                    --accent-colour--text-against: #000;
                    --spacer-colour: #525353;
                    --icon-filter: invert(1);
                    --bottom-links-opacity: 0.8;
                }
            }

            * {
                box-sizing: border-box;
            }
			body {
				margin: 0;
				max-width: 350px;
				width: 350px;
				font-family: Inter, system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
				font-size: .85em;
                line-height: 1.6;
                padding: 1rem;
                background-color: var(--background-colour);
                color: var(--text-colour);
                accent-color: var(--accent-colour);
                display: flex;
                flex-direction: column;
                overflow: hidden;
                max-height: 600px;
			}
            h3,
            h4,
            h5 {
                margin: 0 0 var(--spacing);
                font-weight: 700;
                text-align: center;
                color: var(--accent-colour);
            }
            h4,
            h5 {
                margin: calc(var(--spacing) / 2) 0;
            }
            h3 img {
                vertical-align: text-top;
            }
            h5 {
                text-align: left;
                font-size: 90%;
            }
            p {
                margin: var(--spacing) 0;
            }
            h3 + p,
            h4 + p,
            h5 + p {
                margin-top: 0;
            }
            a, a:link, a:visited {
                color: var(--accent-colour);
                text-decoration: none;
            }
            h3,
            h4,
            h5,
            a,
            label {
                user-select: none;
            }
            .options-group > p {
                font-size: 90%;
            }
            #wikis-container {
                position: relative;
                border: 1px solid var(--spacer-colour);
                margin-bottom: var(--spacing);
                overflow-y: auto;
                max-height: 350px;
                font-size: 105%;
                flex-grow: 1;
            }
            #wikis-container {
                scrollbar-width: thin;
                scrollbar-color: var(--accent-colour);
            }
            #wikis-container::-webkit-scrollbar {
                width: 5px;
            }
            #wikis-container::-webkit-scrollbar-track {
                background: var(--spacer-colour);
            }
            #wikis-container::-webkit-scrollbar-thumb {
                background: var(--accent-colour);
                border-radius: 8px;
                border: 1.5px solid var(--spacer-colour);
            }
            #wikis {
                margin: 0;
                padding: calc(var(--spacing) / 2);
                list-style: none;
            }
            #wikis li {
                display: flex;
                align-items: center;
                padding: 1px calc(var(--spacing) / 4);
                vertical-align: middle;
            }
            #wikis li:not(.pseudo):not(#hasWikiSearch):hover {
                background: #fff1;
            }
            #wikis li.wiki-indent {
                border-left: 1px solid var(--spacer-colour);
                margin-left: calc(var(--spacing));
            }
            #wikis li label {
                flex-grow: 1;
            }
            #wikis li a {
                display: block;
                flex-basis: 12px;
                flex-shrink: 0;
                width: 12px;
                height: 12px;
                margin-right: calc(var(--spacing) / 2);
                background: url(icons/ooui-ltr.svg) center center / contain no-repeat;
                filter: var(--icon-filter);
                opacity: 0.5;
            }
            #wikis li a:hover {
                opacity: 0.8;
            }
            #wiki-search-container {
                display: none;
                position: sticky;
                top: 0;
                background: var(--background-colour);
                padding: calc(var(--spacing) / 2) calc(var(--spacing) / 1.2);
                z-index: 20;
            }
            #wikiSearch {
                width: 100%;
                border: 1px solid var(--accent-colour);
                border-radius: 2px;
                padding: calc(var(--spacing) / 2) calc(var(--spacing) / 1.2);
                background: transparent;
                color: #fff;
                opacity: 0.5;
                transition: opacity .2s;
            }
            #wikiSearch:hover,
            #wikiSearch:focus {
                opacity: 1;
                outline-color: var(--accent-colour);
            }
            [data-means-inactive] {
                accent-color: #cf240a;
            }
            #bottom-links {
                margin: calc( var(--spacing) / 2 ) 0 0;
                text-align: center;
                font-size: 80%;
                opacity: var(--bottom-links-opacity);
            }

            @media screen and (max-device-width: 900px) {
                :root {
                    --spacing: 1em;
                }
                body {
                    font-size: 0.925em;
                    max-height: 100vh;
                    width: 100%;
                    max-width: unset;
                }
                h3 {
                    margin: -1rem -1rem 0.5em;
                    padding: 0.5rem;
                    background: var(--accent-colour);
                    color: var(--accent-colour--text-against);
                    font-size: 1.5em;
                }
                #wikis-container {
                    max-height: unset;
                }
                #bottom-links {
                    font-size: 90%;
                }
            }
		</style>
	</head>
	<body>
		<h3>wiki.gg migration helper</h3>
        <div class="options-group">
            <h5>Redirecting</h5>
		    <div>
			    <input type="radio" name="redirectMode" id="redirectMode__do"
                    data-setting-id="isRedirectDisabled" data-value="false" />
                <label for="redirectMode__do">Redirect from old to new wikis</label>
		    </div>
		    <div>
			    <input type="radio" name="redirectMode" id="redirectMode__banner"
                    data-setting-id="isRedirectDisabled" data-value="banner" />
                <label for="redirectMode__banner">Do not redirect, display a banner instead</label>
		    </div>
		    <div>
			    <input type="radio" name="redirectMode" id="redirectMode__dont" data-means-inactive
                    data-setting-id="isRedirectDisabled" data-value="true" />
                <label for="redirectMode__dont">Do not redirect automatically</label>
		    </div>
        </div>
        <div class="options-group">
            <h5>Search filtering</h5>
            <p>
                <b>Currently supported:</b> <i>Google</i>, <i>DuckDuckGo</i>.
            </p>
		    <div>
			    <input type="radio" name="searchMode" id="rewriteSearch"
                    data-setting-id="searchMode" data-value="rewrite" />
                <label for="rewriteSearch">Rewrite Fandom results</label>
		    </div>
		    <div>
			    <input type="radio" name="searchMode" id="filterSearch"
                    data-setting-id="searchMode" data-value="filter" />
                <label for="filterSearch">Hide Fandom results</label>
		    </div>
		    <div>
			    <input type="radio" name="searchMode" id="dontTouchSearch" data-means-inactive
                    data-setting-id="searchMode" data-value="none" />
                <label for="dontTouchSearch">Don't alter results</label>
		    </div>
		    <div>
			    <input type="checkbox" id="ddgSupportExp"
                    data-setting-id="ddgEnable" data-on="true" data-off="false" />
                <label for="ddgSupportExp">Enable experimental DuckDuckGo support</label>
		    </div>
        </div>
        <div class="options-group" data-hide-in-stable>
            <h5>Hidden options</h5>
		    <div>
			    <input type="checkbox" id="useTabRedirect"
                    data-setting-id="useTabRedirect" data-on="true" data-off="false" />
                <label for="useTabRedirect">Use legacy redirection method</label>
		    </div>
        </div>
        <h4>Wikis to affect</h4>
        <div id="wikis-container">
            <div id="wiki-search-container">
                <input id="wikiSearch" type="text" placeholder="Search..." />
            </div>
            <ul id="wikis">
            </ul>
        </div>
        <p id="bottom-links"><span id="version-string">v???</span> | <a href="https://forms.gle/eMX1Lfq76H4KPmHPA" target="_blank">Feedback?</a> | <a href="https://github.com/alex4401/wikigg-redirect-extension">Source code</a></p>
		<script type="text/javascript" src="built/popup.js"></script>
	</body>
</html>